region <- read.csv("../data/cvd_region.csv")
View(region)
population <- read.table("../data/pop_state.xlsx")
?read.table
population <- read.table("../data/pop_state.xlsx", header = TRUE)
region <- read.csv("../data/cvd_region.csv")
View(region)
population <- read.delim("../data/pop_state.xlsx")
population <- read.delim("../data/pop_state.xlsx", header = FALSE)
population <- read.delim("../data/pop_state.xlsx", header = TRUE)
population <- read.delim("../raw_data/pop_state.xlsx", header = TRUE)
population <- read.delim("../raw_data/pop_state.xlsx")
population <- read.table("../raw_data/pop_state.xlsx")
population <- read.txt("../raw_data/pop_state.xlsx")
library(readxl)
population <- read_excel("../raw_data/pop_state.xlsx")
View(population)
population <- read_excel("../raw_data/pop_state.xlsx", header = FALSE)
?read_excel
population <- read_excel("../raw_data/pop_state.xlsx")
population <- read_excel("../raw_data/pop_state.xlsx", col_names = FALSE)
View(population)
View(population)
population[6:9, ]
population[4:9, ]
colnames(population[4:9, ])
population[4:9, ]
population[, c(1, 13, 15)]
data.needed <- population[4:9, ]
data.needed
data.needed[, c(1, 13, 15)]
data.needed[c(-2), c(1, 13, 15)]
data.needed <- data.needed[c(-2), c(1, 13, 15)]
data.needed
colnames(data.needed.new) <- c("region", "2019", "2020")
data.needed.new <- data.needed[c(-2), c(1, 13, 15)]
region <- read.csv("../data/cvd_region.csv")
population <- read_excel("../raw_data/pop_state.xlsx", col_names = FALSE)
data.needed <- population[4:9, ]
data.needed
data.needed.new <- data.needed[c(-2), c(1, 13, 15)]
data.needed.new
colnames(data.needed.new) <- c("region", "2019", "2020")
colnames(data.needed.new) <- c("region", "2019", "2020")
data.needed.new
region <- read.csv("../data/cvd_region.csv")
population <- read_excel("../raw_data/pop_state.xlsx", col_names = FALSE)
data.needed <- population[4:9, ]
data.needed
data.needed.new <- data.needed[c(-1, -2), c(1, 13, 15)]
colnames(data.needed.new) <- c("region", "2019", "2020")
data.needed.new
region.month
colnames(region)
region[1, "month"]
grep("2018", region[1, "month"])
grep("2019", region[1, "month"])
if (1) {r}
if (1) {print(1)}
if (0) {print(1)}
data.needed.new <- data.needed[c(-1, -2), c(1, 12, 13, 15)]
colnames(data.needed.new) <- c("region", "2018", "2019", "2020")
data.needed.new
for (i in nrow(region)){
if (region[i, "region"] == "Northeast") {
if (grep("18", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 2]
} else if (grep("19", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 3]
}
else {
region[i, "population"] = data.needed.new[1, 4]
}
}}
for (i in 1:nrow(region)){
if (region[i, "region"] == "Northeast") {
if (grep("18", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 2]
} else if (grep("19", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 3]
}
else {
region[i, "population"] = data.needed.new[1, 4]
}
}}
region <- read.csv("../data/cvd_region.csv")
for (i in 1:nrow(region)){
if (region[i, "region"] == "Northeast") {
if (grep("18", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 2]
} else if (grep("19", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 3]
}
else {
region[i, "population"] = data.needed.new[1, 4]
}
}}
region[1, "region"]
for (i in 1:nrow(region)){
if (region[i, "region"] == "Northeast") {
if (grep("18", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 2]
} else if (grep("19", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 3]
} else {
region[i, "population"] = data.needed.new[1, 4]
}
}
}
grep("18", region[1, "month"])
region <- read.csv("../data/cvd_region.csv")
population <- read_excel("../raw_data/pop_state.xlsx", col_names = FALSE)
for (i in 1:nrow(region)){
if (region[i, "region"] == "Northeast") {
if (grep("18", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 2]
} else if (grep("19", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 3]
} else {
region[i, "population"] = data.needed.new[1, 4]
}
}
}
region <- read.csv("../data/cvd_region.csv")
population <- read_excel("../raw_data/pop_state.xlsx", col_names = FALSE)
for (i in 1:nrow(region)){
if (region[i, "region"] == "Northeast") {
if (grep("2018", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 2]
} else if (grep("2019", region[i, "month"])) {
region[i, "population"] = data.needed.new[1, 3]
} else {
region[i, "population"] = data.needed.new[1, 4]
}
}
}
region <- read.csv("../data/cvd_region.csv")
population <- read_excel("../raw_data/pop_state.xlsx", col_names = FALSE)
library(readxl)
population <- read_excel("../raw_data/pop_state.xlsx", col_names = FALSE)
View(region)
data.needed <- population[4:9, ]
data.needed
data.needed.new <- data.needed[c(-1, -2), c(1, 12, 13, 15)]
colnames(data.needed.new) <- c("region", "2018", "2019", "2020")
data.needed.new
View(region)
View(population)
grep("2018", region$month)
region[test, ]
test <- grep("2018", region$month)
region[test, ]
?grep
regionNortheast.index <- grep("Northeast", region$region)
regionNortheast.index
region[regionNortheast.index, ]
intersect(region2018.index, regionNortheast.index)
regionNortheast.index <- grep("Northeast", region$region)
intersect(region2018.index, regionNortheast.index)
region2018.index <- grep("2018", region$month)
intersect(region2018.index, regionNortheast.index)
data.needed.new[region == "Northeast"]
rownames(data.needed.new) <- region$region
rownames(data.needed.new) <- region$region
rownames(data.needed.new) <- data.needed.new$region
data.needed.new
data.needed.new[region == "Northeast", year == "2018"]
data.needed.new[region == "Northeast", "2018"]
data.needed <- population[4:9, ]
data.needed
data.needed.new <- data.needed[c(-1, -2), c(1, 12, 13, 15)]
colnames(data.needed.new) <- c("region", "2018", "2019", "2020")
data.needed.new
data.needed.new$region == "Northeast"
data.needed.new$`2018`[data.needed.new$region == reg]
data.needed.new$`2018`[data.needed.new$region == "West"]
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
data.needed.new$region == reg
region[shared, "population"] <- data.needed.new$`year`[data.needed.new$region == reg]
}
}
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
region[shared, "population"] <- data.needed.new$`year`[data.needed.new$region == reg]
}
}
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
print(data.needed.new$`year`[data.needed.new$region == reg])
# region[shared, "population"] <- data.needed.new$`year`[data.needed.new$region == reg]
}
}
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
print(data.needed.new$year[data.needed.new$region == reg])
# region[shared, "population"] <- data.needed.new$`year`[data.needed.new$region == reg]
}
}
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
print(data.needed.new$year[data.needed.new$region == reg, year])
break
# region[shared, "population"] <- data.needed.new$`year`[data.needed.new$region == reg]
}
}
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
print(data.needed.new[data.needed.new$region == reg, year])
break
# region[shared, "population"] <- data.needed.new$`year`[data.needed.new$region == reg]
}
}
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
data.needed.new[data.needed.new$region == reg, year])
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
region[shared, "population"] <- data.needed.new[data.needed.new$region == reg, year])
for (year in c("2018", "2019", "2020")) {
for (reg in c("Northeast", "Midwest", "South", "West")) {
year.index <- grep(year, region$month)
region.index <- grep(reg, region$region)
shared <- intersect(year.index, region.index)
region[shared, "population"] <- data.needed.new[data.needed.new$region == reg, year]
}
}
View(region)
region$crude_rate <- 100000 * death / population
region$crude_rate <- 100000 * region$death / region$population
region$death / region$population
region$death
as.vector(region$death) / as.vector(region$population)
typeof(region$death)
typeof(region$population)
region$population <- as.integer(region$population)
region$crude_rate <- 100000 * region$death / region$population
View(region)
write.csv(region, file = "../data/cvd_region_crude_rate.csv", row.names = FALSE)
